# =============================================================================
# DOCKER ENVIRONMENT VARIABLES - TEMPLATE
# =============================================================================
# Copia este archivo a .env y configura los valores apropiados
# cp .env.example .env

# --- APPLICATION ---
APP_NAME=Sistema_DGSUC
APP_ENV=local
APP_DEBUG=true
# IMPORTANTE: Generar nueva APP_KEY con: make app-key o docker-compose exec app php artisan key:generate
APP_KEY=
APP_URL=http://localhost:8080
APP_TIMEZONE=America/Argentina/Buenos_Aires

# --- LOGGING ---
LOG_CHANNEL=stack
LOG_LEVEL=debug

# --- DATABASE ---
# Host para la base de datos principal (servicio postgres en docker-compose)
DB_HOST=postgres
DB_PORT=5432
DB_DATABASE=dgsuc_app
DB_USERNAME=dgsuc_user
# CAMBIAR: Usar una contraseña segura
DB_PASSWORD=postgres

# ========================================
# BASES DE DATOS EXTERNAS VIA SSH TUNNELS
# ========================================
# IMPORTANTE: En producción estos hosts apuntan a 127.0.0.1 (túneles SSH)
# En desarrollo local usar host.docker.internal

# --- DB Test (Túnel SSH puerto 5433) ---
# Configuración para: desa, liqui, 2503, 2504, 2505, 2506
DB_TEST_HOST=127.0.0.1
DB_TEST_PORT=5433
DB_TEST_DATABASE=liqui
DB_TEST_USERNAME=postgres
DB_TEST_PASSWORD=1234
DB_TEST_CHARSET=utf8

# --- DB Test R2 (Túnel SSH puerto 5435) ---
# Configuración para: 2507, 2508, 2509, 2510, 2511, 2512
DB_TEST_R2_HOST=127.0.0.1
DB_TEST_R2_PORT=5435
DB_TEST_R2_USERNAME=postgres
DB_TEST_R2_PASSWORD=1234
DB_TEST_R2_CHARSET=utf8

# --- DB Mapuche/SUC (Túnel SSH puerto 5433) ---
# Conexión principal a base externa
DB2_HOST=127.0.0.1
DB2_PORT=5433
DB2_DATABASE=liqui
DB2_USERNAME=postgres
DB2_PASSWORD=1234
DB2_CHARSET=utf8

# ========================================
# SERVIDOR DE DESARROLLO ALTERNATIVO
# ========================================
DB4_HOST=host.docker.internal
DB4_PORT=5432
DB4_DATABASE=desa
DB4_USERNAME=postgres
DB4_PASSWORD=1234
DB4_CHARSET=utf8

# ========================================
# SERVIDOR DE PRODUCCIÓN (DB_PROD - Túnel SSH puerto 5434)
# ========================================
# Base de datos de producción - Solo lectura
DB_PROD_HOST=127.0.0.1
DB_PROD_PORT=5434
DB_PROD_DATABASE=mapuche
DB_PROD_USERNAME=postgres
DB_PROD_PASSWORD=1234
DB_PROD_CHARSET=utf8

# ========================================
# SERVIDOR DE PRODUCCIÓN R2 (Túnel SSH puerto 5436)
# ========================================
# Base de datos de producción - Lectura/Escritura
DB7_HOST=127.0.0.1
DB7_PORT=5436
DB7_DATABASE=mapuche
DB7_USERNAME=postgres
DB7_PASSWORD=1234
DB7_CHARSET=utf8

# ========================================
# SERVIDOR DE CONSULTAS
# ========================================
DB8_HOST=host.docker.internal
DB8_PORT=5432
DB8_DATABASE=mapuche
DB8_USERNAME=postgres
DB8_PASSWORD=1234
DB8_CHARSET=utf8

# ========================================
# BASE DE DATOS DE TESTING
# ========================================
DATABASE_TEST_URL=
DB_TEST_HOST=host.docker.internal
DB_TEST_PORT=5432
DB_TEST_DATABASE=sicoss_test
DB_TEST_USERNAME=postgres
DB_TEST_PASSWORD=

# ========================================
# CONEXIÓN TOBA
# ========================================
TOBA_DB_HOST=
TOBA_DB_PORT=
TOBA_DB_DATABASE=
TOBA_DB_USERNAME=
TOBA_DB_PASSWORD=postgres


# --- CACHE & SESSION ---
CACHE_DRIVER=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120
QUEUE_CONNECTION=redis

# --- REDIS ---
REDIS_PASSWORD=redis_dev_password_456

# --- BROADCASTING ---
BROADCAST_DRIVER=log

# --- DOCKER SPECIFIC ---
BUILD_TARGET=development
HTTP_PORT=8080
HTTPS_PORT=8443
DB_EXTERNAL_PORT=7432
REDIS_EXTERNAL_PORT=6379

# --- WORKERS ---
WORKER_PROCESSES=4
WORKER_MEMORY=2048
WORKER_TIMEOUT=3600

# --- SSL/CERTBOT ---
CERTBOT_EMAIL=admin@uba.ar
CERTBOT_DOMAIN=dgsuc.uba.ar

# ========================================
# CONFIGURACIÓN SSH TUNNELS (PRODUCCIÓN)
# ========================================
# Configuración para túneles SSH en Portainer

# --- Túnel DB Producción (puerto 5434) - Solo lectura ---
SSH_HOST_DBPROD=dbprod.uba.ar
SSH_USER_DBPROD=dgsuc_app_ro
SSH_PORT_DBPROD=22

# --- Túnel DB Producción R2 (puerto 5436) - Lectura/escritura ---
SSH_HOST_DBPRODR2=dbprodr2.uba.ar
SSH_USER_DBPRODR2=dgsuc_app_rw
SSH_PORT_DBPRODR2=22

# --- Túnel DB Test (puerto 5433) - Solo lectura ---
SSH_HOST_DBTEST=dbtest.uba.ar
SSH_USER_DBTEST=dgsuc_app_ro
SSH_PORT_DBTEST=22

# --- Túnel DB Test R2 (puerto 5435) - Lectura/escritura ---
SSH_HOST_DBTESTR2=dbtestr2.uba.ar
SSH_USER_DBTESTR2=dgsuc_app_rw
SSH_PORT_DBTESTR2=22
