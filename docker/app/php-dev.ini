; PHP Configuration for Development
[PHP]
; Performance
memory_limit = 2048M
max_execution_time = 300
max_input_time = 300
max_input_vars = 10000
post_max_size = 256M
upload_max_filesize = 256M

; Development Settings
display_errors = On
display_startup_errors = On
error_reporting = E_ALL
log_errors = On
error_log = /var/log/php/error.log

; Security (relaxed for development)
expose_php = On
register_argc_argv = On
allow_url_fopen = On
allow_url_include = Off

; Session
session.cookie_httponly = 1
session.use_only_cookies = 1
session.cookie_secure = 0
session.cookie_samesite = Lax

; OPcache (disabled for development)
opcache.enable = 0
opcache.enable_cli = 0
opcache.validate_timestamps = 1
opcache.revalidate_freq = 0

; Realpath Cache
realpath_cache_size = 4096K
realpath_cache_ttl = 120

; Timezone
date.timezone = America/Argentina/Buenos_Aires

; PostgreSQL specific
pgsql.allow_persistent = On
pgsql.max_persistent = -1
pgsql.max_links = -1

; Xdebug Configuration
[xdebug]
xdebug.mode = develop,debug,coverage
xdebug.start_with_request = yes
xdebug.client_host = host.docker.internal
xdebug.client_port = 9003
xdebug.idekey = PHPSTORM
xdebug.log = /var/log/xdebug.log
xdebug.log_level = 3
xdebug.discover_client_host = 1
xdebug.max_nesting_level = 512

; Xdebug Display Settings
xdebug.cli_color = 1
xdebug.show_error_trace = 1
xdebug.show_exception_trace = 1
xdebug.show_local_vars = 1

; Xdebug Profiler (disabled by default)
xdebug.profiler_enable = 0
xdebug.profiler_enable_trigger = 1
xdebug.profiler_output_dir = /tmp/xdebug
xdebug.profiler_output_name = cachegrind.out.%t.%p

; Development Tools
assert.active = 1
assert.exception = 1
zend.assertions = 1

; Output
output_buffering = Off
implicit_flush = Off

; File Uploads
file_uploads = On
upload_tmp_dir = /tmp
max_file_uploads = 20

; Development Database Settings
mysqlnd.collect_statistics = On
mysqlnd.collect_memory_statistics = On

; Mail (for development with Mailhog)
SMTP = mailhog
smtp_port = 1025
sendmail_path = /usr/sbin/sendmail -t -i

; Garbage Collection
session.gc_probability = 1
session.gc_divisor = 100
session.gc_maxlifetime = 1440

; SICOSS Processing (development values)
; Lower limits for faster feedback during development
max_execution_time = 600
memory_limit = 4096M